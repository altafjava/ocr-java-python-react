{"version":3,"sources":["api/ConversionService.js","components/AlertMessage.js","components/Conversion.js","constant/Color.js","components/Header.js","App.js","index.js"],"names":["file","formData","FormData","append","Axios","method","url","data","headers","AlertMessage","background","message","style","color","width","textAlign","borderRadius","Conversion","useState","setFile","isButtonDisabled","setButtonDisabled","downloadUrl","setDownloadUrl","result","setResult","image","setImage","notification","setNotification","fileTypes","key","value","disableButton","btn","classList","add","remove","enableButton","showAlert","hasError","setTimeout","className","id","type","onChange","e","document","getElementById","innerHTML","uploadedFile","target","files","URL","createObjectURL","undefined","fileExtension","exec","name","filter","fileType","toLowerCase","length","onClick","click","src","alt","nameStartEndLength","substring","size","href","innerText","trim","preventDefault","ConversionService","convert","then","response","content","catch","error","padding","split","map","s","index","Header","rel","App","ReactDOM","render"],"mappings":"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","file":"static/js/main.878ebbd9.chunk.js","sourcesContent":["import Axios from 'axios';\r\n\r\nclass ConversionService {\r\n  convert(file) {\r\n    const formData = new FormData();\r\n    formData.append('file', file);\r\n    return Axios({\r\n      method: 'POST',\r\n      url: 'http://localhost:8080/convert',\r\n      data: formData,\r\n      headers: { 'Access-Control-Allow-Origin': '*', 'Content-Type': 'multipart/form-data' },\r\n    });\r\n  }\r\n}\r\nexport default new ConversionService();\r\n","import React from 'react';\r\n\r\nconst AlertMessage = ({ background, message }) => {\r\n  return (\r\n    <div style={{ background: background, color: 'white', width: '500px', textAlign: 'center', borderRadius: '4px' }}>\r\n      <p>{message}</p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AlertMessage;\r\n","import React, { useState } from 'react';\r\nimport ConversionService from '../api/ConversionService';\r\nimport { DANGER, INFO, SUCCESS, WARNING } from '../constant/Color';\r\nimport AlertMessage from './AlertMessage';\r\nimport './Conversion.css';\r\n\r\nconst Conversion = () => {\r\n  const [file, setFile] = useState(null);\r\n  const [isButtonDisabled, setButtonDisabled] = useState(false);\r\n  const [downloadUrl, setDownloadUrl] = useState('');\r\n  const [result, setResult] = useState('');\r\n  const [image, setImage] = useState(null);\r\n  const [notification, setNotification] = useState({});\r\n\r\n  const nameStartEndLength = 12;\r\n  const fileTypes = [\r\n    { key: 'png', value: 'PNG' },\r\n    { key: 'jpg', value: 'JPG' },\r\n    { key: 'jpeg', value: 'JPEG' },\r\n    { key: 'gif', value: 'GIF' },\r\n  ];\r\n\r\n  const uploadClick = () => {\r\n    var inputTypeFile = document.getElementById('inputTypeFile');\r\n    inputTypeFile.click();\r\n  };\r\n\r\n  const handleFileChange = (e) => {\r\n    const btn = document.getElementById('convert-button');\r\n    btn.innerHTML = \"Convert <i id='spinner' class='fa spin'></i>\";\r\n    enableButton(btn);\r\n    const uploadedFile = e.target.files[0];\r\n    setFile(uploadedFile);\r\n    setImage(URL.createObjectURL(uploadedFile));\r\n    if (uploadedFile === undefined) {\r\n      setButtonDisabled(true);\r\n    } else {\r\n      const regex = /(?:\\.([^.]+))?$/;\r\n      let fileExtension = regex.exec(uploadedFile.name)[1];\r\n      if (fileExtension === undefined) {\r\n        showAlert('File has no extension. Please choose different file', WARNING);\r\n        setButtonDisabled(true);\r\n      } else {\r\n        const isFileTypePresent = fileTypes.filter((fileType) => fileType.key === fileExtension.toLowerCase()).length > 0;\r\n        if (!isFileTypePresent) {\r\n          showAlert('Sorry, Currently we are not converting .' + fileExtension + ' file', INFO);\r\n          setButtonDisabled(true);\r\n        } else {\r\n          setButtonDisabled(false);\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleConvert = (e) => {\r\n    let btn = document.getElementById('convert-button');\r\n    if (btn.innerText.trim() === 'Convert') {\r\n      e.preventDefault();\r\n      if (file.name === undefined) {\r\n        showAlert('Please choose a file', WARNING);\r\n      } else {\r\n        btn.innerHTML = \"Converting <i id='spinner' class='fa fa-spinner spin'></i>\";\r\n        disableButton(btn);\r\n        ConversionService.convert(file)\r\n          .then((response) => {\r\n            setResult(response.data.content);\r\n            showAlert('File successfully converted. Click the Download button to download', SUCCESS);\r\n            setDownloadUrl(response.data.downloadUrl);\r\n            btn.innerHTML = \"Download <i id='spinner' class='fa spin'></i>\";\r\n            enableButton(btn);\r\n          })\r\n          .catch((error) => {\r\n            if (error.response) {\r\n              showAlert(error.response.data, DANGER);\r\n            } else {\r\n              showAlert(error.message, DANGER);\r\n            }\r\n            btn.innerHTML = \"Convert <i id='spinner' class='fa spin'></i>\";\r\n          });\r\n      }\r\n    } else if (btn.innerText.trim() === 'Download') {\r\n    } else {\r\n      e.preventDefault();\r\n      showAlert(\"Don't try to be oversmart\", INFO);\r\n    }\r\n  };\r\n  const disableButton = (btn) => {\r\n    btn.classList.add('button__disabled');\r\n    btn.classList.remove('button__hover');\r\n  };\r\n  const enableButton = (btn) => {\r\n    btn.classList.remove('button__disabled');\r\n    btn.classList.add('button__hover');\r\n  };\r\n  const showAlert = (message, background) => {\r\n    setNotification({ hasError: true, message: message, background: background });\r\n    setTimeout(() => setNotification({ hasError: false, message: message }), 3000);\r\n  };\r\n\r\n  return (\r\n    <div className='main__container'>\r\n      {notification.hasError && <AlertMessage background={notification.background} message={notification.message} />}\r\n      <div className='container'>\r\n        <div className='hide'>\r\n          <input id='inputTypeFile' type='file' onChange={handleFileChange} />\r\n        </div>\r\n        <div className='div__upload' onClick={uploadClick}>\r\n          <img src='/assets/icons/upload-icon.svg' alt='upload files' width='50px' />\r\n          <div>Upload Image</div>\r\n        </div>\r\n        {file && (\r\n          <div className='upload__details'>\r\n            <table>\r\n              <tbody>\r\n                <tr>\r\n                  <td className='align-right'>Name :</td>\r\n                  <td>\r\n                    {file && file.name.length > nameStartEndLength + nameStartEndLength + 8\r\n                      ? file.name.substring(0, nameStartEndLength) +\r\n                        '....' +\r\n                        file.name.substring(file.name.length - nameStartEndLength, file.name.length)\r\n                      : file.name}\r\n                  </td>\r\n                </tr>\r\n                <tr>\r\n                  <td className='align-right'>Size :</td>\r\n                  {file && <td>{`${file.size / 1000} KB`}</td>}\r\n                </tr>\r\n                <tr>\r\n                  <td className='align-right'>Type :</td>\r\n                  <td>{file && file.type}</td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        )}\r\n        <div className='div__button'>\r\n          <a\r\n            id='convert-button'\r\n            className={`button button__hover ${isButtonDisabled ? ' button__disabled' : ''}`}\r\n            href={downloadUrl}\r\n            onClick={handleConvert}\r\n          >\r\n            Convert <i id='spinner' className='fa spin'></i>\r\n          </a>\r\n        </div>\r\n      </div>\r\n      <div className='preview__container'>\r\n        <div className={`div__image-preview`}>\r\n          <div className='result__heading'>Image Preview</div>\r\n          <div>\r\n            <img src={image} alt='preview' width='100%'></img>\r\n          </div>\r\n        </div>\r\n        <div className='div__result'>\r\n          <div className='result__heading'>Text Found on Your Image is</div>\r\n          <div style={{ padding: `${result === '' ? '16px' : '32px'}` }}>\r\n            {result.split('\\n').map((s, index) => (\r\n              <p key={index} className='result'>\r\n                {s}\r\n              </p>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Conversion;\r\n","export const PRIMARY = '#0275d8';\r\nexport const SUCCESS = '#5cb85c';\r\nexport const INFO = '#5bc0de';\r\nexport const WARNING = '#f0ad4e';\r\nexport const DANGER = '#d9534f';\r\nexport const INVERSE = '#292b2c';\r\nexport const FADED = '#f7f7f7';\r\n","import React from 'react';\r\nimport './Header.css';\r\n\r\nconst Header = () => {\r\n  return (\r\n    <div className='header'>\r\n      <a href='https://javaaltaf.blogspot.com/' target='_blank' rel='noopener noreferrer'>\r\n        Header\r\n      </a>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import React, { Fragment } from 'react';\r\nimport './App.css';\r\nimport Conversion from './components/Conversion';\r\nimport Header from './components/Header';\r\n\r\nfunction App() {\r\n  return (\r\n    <Fragment>\r\n      <Header />\r\n      <Conversion />\r\n    </Fragment>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport './index.css';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}